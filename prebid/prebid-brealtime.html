<html>
<head>
  <!-- Prebid Config Section START -->
  <!-- Make sure this is inserted before your GPT tag -->
  <script> 
    var PREBID_TIMEOUT = 1500;

    var adUnits = [{
        code: 'div-gpt-ad-1503393253852-0',
        sizes: [[120, 600], [300, 600], [300, 250], [160, 600]],
        bids: [
        { bidder: 'brealtime',  params: { placementId: '12002334' } },  //300x600 
        { bidder: 'brealtime',  params: { placementId: '12002335' } },  //300x250 
        { bidder: 'brealtime',  params: { placementId: '12002336' } },  //160x600 
        { bidder: 'brealtime',  params: { placementId: '12002337' } }   //120x600
        ]
    },{
        code: 'div-gpt-ad-1503393253852-1',
        sizes: [[970, 250], [728, 90]],
        bids: [
        { bidder: 'brealtime',  params: { placementId: '12002322' } },  //970x250
        { bidder: 'brealtime',  params: { placementId: '12002329' } },  //970x90 
        { bidder: 'brealtime',  params: { placementId: '12002330' } },  //728x90 
        { bidder: 'brealtime',  params: { placementId: '12002331' } },  //468x60
        { bidder: 'brealtime',  params: { placementId: '12002333' } }   //320x50
        ]
    }];
    
    var pbjs = pbjs || {};
    pbjs.que = pbjs.que || [];

  </script>
  <!-- Prebid Config Section END -->
  
  <!-- Prebid Boilerplate Section START. No Need to Edit. -->
  <script type="text/javascript" src="http://adops.golfwrx.com/prebid_20170821225746.js" async></script>
  <script>
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    googletag.cmd.push(function() {
        googletag.pubads().disableInitialLoad();
    });

    pbjs.que.push(function() {
        pbjs.aliasBidder('appnexus','brealtime');  // alias for bidder
        pbjs.addAdUnits(adUnits);
        pbjs.requestBids({
            bidsBackHandler: sendAdserverRequest
        });
    });

pbjs.bidderSettings = { 
           brealtime:         { bidCpmAdjustment : function(bidCpm){ return bidCpm * 0.80; } }, // adjust the bid in real time before the auction takes place
  
           standard: {
              adserverTargeting: [
              { key: "hb_bidder", val: function(bidResponse) { return bidResponse.bidderCode; } }, 
              { key: "hb_adid",   val: function(bidResponse) { return bidResponse.adId; } }, 
              { key: "hb_size",   val: function(bidResponse) { return bidResponse.size; } },         
              { key: "hb_nowin",  val: function(bidResponse) { return 'no_win'; } }, 
              { key: "hb_pb",     val: function(bidResponse) { var cpm = bidResponse.cpm * (gpt_config.latest_gbp_rate || gpt_config.default_gbp_rate);  //converts cpm to GBP, rounds cpm to nearest 0.10 incriment, sets 20 if above 20
                    if (cpm <20) { return (Math.floor(cpm * 10) / 10).toFixed(2);} else { return '20.00'; } }
              }]
            }
          };

    function sendAdserverRequest() {
        if (pbjs.adserverRequestSent) return;
        pbjs.adserverRequestSent = true;
        googletag.cmd.push(function() {
            pbjs.que.push(function() {
                pbjs.setTargetingForGPTAsync();
                googletag.pubads().refresh();
            });
        });
    }

    setTimeout(function() {
        sendAdserverRequest();
    }, PREBID_TIMEOUT);

  </script>
  <!-- Prebid Boilerplate Section END -->

  <script>
    (function () {
        var gads = document.createElement('script');
        gads.async = true;
        gads.type = 'text/javascript';
        var useSSL = 'https:' == document.location.protocol;
        gads.src = (useSSL ? 'https:' : 'http:') +
                '//www.googletagservices.com/tag/js/gpt.js';
        var node = document.getElementsByTagName('script')[0];
        node.parentNode.insertBefore(gads, node);
    })();
  </script>

  <script>
  googletag.cmd.push(function() {
    googletag.defineSlot('/1001824/prebid_test1', [[120, 600], [300, 600], [300, 250], [160, 600]], 'div-gpt-ad-1503393253852-0').addService(googletag.pubads());
    googletag.defineSlot('/1001824/prebid_test2', [[970, 250], [728, 90]], 'div-gpt-ad-1503393253852-1').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script>
</head>

<body>
<h2>Prebid.js Test</h2>
<h5>Div-1</h5>
<!-- /1001824/prebid_test1 -->
<div id='div-gpt-ad-1503393253852-0'>
<script>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1503393253852-0'); });
</script>
</div>

<h5>Div-2</h5>
<!-- /1001824/prebid_test2 -->
<div id='div-gpt-ad-1503393253852-1'>
<script>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1503393253852-1'); });
</script>
</div>
<center>
<hr color="#353535" noshade />
<script>
  mShowTargeting = function() {
    try {
      console.log('printed BEFORE targeting output. click the triangles to explore targeting contents.');
      console.log(' ');
      console.log(' ');
      console.log(' ');
      var tgt = pbjs.getAdserverTargeting();
      console.log(tgt);
      console.log(' ');
      console.log(' ');
      console.log(' ');
      console.log('./end of output');
    } catch (e) {
      console.log('mShowTargeting catch thrown...');
    }
  };
</script>
<button onclick="mShowTargeting()">Log Targeting to Console</button>
</center>


<br><br><br><br>
<center>
<a href="/"><button>HOME</button></a>   
</center>
<br><br><br><br>
</body>
</html>